# C++ 仿真程序


## 正在开发中，目前已经实现多模块拓扑分析，规划和计算功能。

> 1. 基于子系统的仿真程序，利用C++编程实现simulink的基本模块化仿真功能。飞机由各子系统构成，子系统定义在XML文件或者MATLAB  .mat 文件中。程序读取文件，自动解析系统给子系统的串并联结构，实现数值求解微分方程。支持 .mat 文件读写。
> 2. 目前求解器构架已经完成，并且通过多次测试，与Simulink 的计算结果做到完全吻合。
> 3. 正在加入测试更多模块，计划实现simulink aerosapce blockset 的全部模块功能。
> 4. 计划加入 Gaussian Regression 的实现模块，为以后利用机器学习进行QTG系统辨识做基础。

## 目前支持模块列表：
|Aerodynamics      |功能                        |
|----------------|-------------------------------|
|Aeroangle             |`根据空速计算气动角度 （完成）`            |
|Aeroforcement1        |`根据飞行状态和气动角计算气动力和力矩（完成）`            |

|Dynamics      |功能                        |
|----------------|-------------------------------|
|Rigidbody            |`常值质量刚体动力学（完成）`            |
|VairableMassRigidbody            |`变质量量刚体动力学 （计划中）`            |
|OffCenteredRigidbody            |`参考点不在质心的刚体动力学（计划中）`            |

|Geographic      |功能                        |
|----------------|-------------------------------|
|Standard Atomshpere            |`标准大气模型（完成）`            |
|Gravity Model           |`重力模型 （完成）`            |

|Linear System     |功能                        |
|----------------|-------------------------------|
|StateSpace             |`线性系统的状态空间实现（完成）`            |
|Transferfunction        |`线性系统的传递函数实现（正在测试）`            |
|Integrator        |`积分器（正在测试）`|
|PID        |` PID 控制器（正在测试）`|

|Math Blocks      |功能                        |
|----------------|-------------------------------|
|Sum             |`将多个信号做加减发后输出（完成）`            |
|Constant        |`一个常数输出（完成）`            |
|Product        |`将多个信号做乘除法后输出（完成）`|
|CrossProduct        |`将2个3维信号做叉乘后输出（完成）`|

|Machine Learning     |功能                        |
|----------------|-------------------------------|
|Gaussian Regression    |`实现训练好的 Gaussian Regression 网络（计划中）`            |

|Propulsion     |功能                        |
|----------------|-------------------------------|
|Prolleper   |`根据飞行速度计算螺旋桨推力和所需功率（计划中）`            |
|Thruster   |`根据发动机推力和矢量控制计算实际推力（计划中）`            |
|Datadriventurbofan  |`查表法实现涡扇发动机推力计算（计划中）`            |

|Signal Generator      |功能                        |
|----------------|-------------------------------|
|Step            |`阶跃信号（完成）`            |
|Ramp        |`斜坡信号（完成）`            |
|Periodicwave       |`周期信号：正弦，方波，三角波（完成）`|

## 下一个时间点：2020 7月，目标：实现 发动机系统仿真

> 1. 在simulink 中实现发动机仿真，原理测试通过后，移植成为一个求解器的子系统
> 2. 实现子系统集合定义功能，方便以后批量定义子系统模块。

##  算法流程简介：
模块化仿真的理论和算法如下：
（待更新）